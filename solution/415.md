# 415. 字符串相加

[题目链接](https://leetcode.cn/problems/add-strings/description/)

## 解法一：双指针

### 思路

- 模拟打草稿做加法
- 两个指针分别指向两个数的末尾，同步向开头左移

### 代码

```py
class Solution:
    def addStrings(self, num1: str, num2: str) -> str:
        ans = ''
        i1 = len(num1) - 1
        i2 = len(num2) - 1

        t = 0
        while i1 >= 0 or i2 >= 0 or t > 0:
            s = 0
            if i1 >= 0:
                s += int(num1[i1])
                i1 -= 1
            if i2 >= 0:
                s += int(num2[i2])
                i2 -= 1
            if t > 0:
                s += t
            ans += str(s % 10)
            t = s // 10

        return ans[::-1]
```

### 复杂度

- 时间：O(n)
- 空间：O(1)

# 补充：字符串相减

## 思路

- 如果 num1 < num2，改成 num2 - num1，然后开头加负号
- 逐位相减，结果为 num1[i] - num2[j] - b
  - b 为借位，如果结果小于 0，需要向前借一位，那么 b 为 1，否则为 0
  - 考虑到借位的存在，最终写为 (num1[i] - num2[j] - b + 10) % 10

## 代码

```py
class Solution:
    def isless(self, num1, num2):
        if len(num1) == len(num2):
            return num1 < num2
        else:
            return len(num1) < len(num2)

    def sub(self, num1, num2):
        ans = []

        b = 0
        i1 = len(num1) - 1
        i2 = len(num2) - 1
        while i1 >= 0 or i2 >= 0:
            c = -b
            if i1 >= 0:
                c += int(num1[i1])
                i1 -= 1
            if i2 >= 0:
                c -= int(num2[i2])
                i2 -= 1
            if c < 0:
                b = 1
            else:
                b = 0
            c = (c + 10) % 10
            ans.append(c)
        
        ans.reverse()
        ans = ''.join(map(str, ans)).lstrip('0')
        if len(ans) == 0:
            ans = '0'
        return ans

    def addStrings(self, num1: str, num2: str) -> str:
        if self.isless(num1, num2):
            ans = self.sub(num2, num1)
            ans = '-' + ans
        else:
            ans = self.sub(num1, num2)
        return ans
```
