# 88. 合并两个有序数组

[题目链接](https://leetcode.cn/problems/merge-sorted-array/)

## 解法一：双指针

### 思路

- 空出的部分在右侧，不如从最右侧开始从大到小排序
  - 两个指针指向 nums1[m - 1] 和 nums2[n - 1]
  - 一个指针指向 nums1 末尾
  - 执行归并排序中的合并部分即可

### 代码

```py
class Solution:
    def merge(self, nums1: List[int], m: int, nums2: List[int], n: int) -> None:
        """
        Do not return anything, modify nums1 in-place instead.
        """
        i1 = m - 1
        i2 = n - 1
        i = m + n - 1

        while i1 >= 0 and i2 >= 0:
            if nums1[i1] > nums2[i2]:
                nums1[i] = nums1[i1]
                i1 -= 1
            else:
                nums1[i] = nums2[i2]
                i2 -= 1
            i -= 1

        if i2 >= 0:
            nums1[:i + 1] = nums2[:i2 + 1]
```

### 复杂度

- 时间：O(m + n)
- 空间：O(1)

## 补充：合并且去重

### 思路

- 用一个变量记录上一次合并的元素，如果一样，就不再合并

### 代码

```py
class Solution:
    def merge(self, nums1: List[int], m: int, nums2: List[int], n: int) -> None:
        """
        Do not return anything, modify nums1 in-place instead.
        """
        i1 = m - 1
        i2 = n - 1
        i = m + n - 1
        last_num = None

        while i1 >= 0 or i2 >= 0:
            if i1 >= 0:
                num1 = nums1[i1]
            else:
                num1 = -inf
            if i2 >= 0:
                num2 = nums2[i2]
            else:
                num2 = -inf

            if num2 >= num1:
                i2 -= 1
                if num2 == last_num:
                    continue
                else:
                    last_num = num2
                    nums1[i] = num2
            else:
                i1 -= 1
                if num1 == last_num:
                    continue
                else:
                    last_num = num1
                    nums1[i] = num1
            i -= 1

        print(nums1[i + 1:])
```

### 复杂度

- 时间：O(m + n)
- 空间：O(1)
