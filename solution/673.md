# 673. 最长递增子序列的个数

[题目链接](https://leetcode.cn/problems/number-of-longest-increasing-subsequence/description/)

## 解法一：动态规划

### 思路

- 更新最长序列长度的同时更新对应的个数
- 因为是递增，所以每个位置都需要考虑前面的所有位置
- 模拟更新过程即可

### 代码

```py
class Solution:
    def findNumberOfLIS(self, nums: List[int]) -> int:
        ans = 0
        max_len = 0

        n = len(nums)

        f = [0 for _ in range(n)]
        cnt = [0 for _ in range(n)]

        for i, num in enumerate(nums):
            f[i] = 1
            cnt[i] = 1

            for j in range(i):
                if nums[i] > nums[j]:
                    if f[j] + 1 > f[i]:
                        f[i] = f[j] + 1
                        cnt[i] = cnt[j]
                    elif f[j] + 1 == f[i]:
                        cnt[i] += cnt[j]

            if f[i] > max_len:
                max_len = f[i]
                ans = cnt[i]
            elif f[i] == max_len:
                ans += cnt[i]

        return ans
```

### 复杂度

- 时间：O(n^2)
- 空间：O(n)
