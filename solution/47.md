# 47. 全排列 II

[题目链接](https://leetcode.cn/problems/permutations-ii/description/)

## 解法一：DFS

### 思路

- 枚举每个位置放置的数字
- 由于是排列，所有位置的数字都需要用上，需要记录每个数字是否被用过
  - 可以用数组自身作为哈希，用过的，也就是答案的一部分，放数组左侧
  - 每次只枚举数组右侧的数字
- 去重：每个位置的数字不能出现重复
  - 维护集合

### 代码

```py
class Solution:
    def permuteUnique(self, nums: List[int]) -> List[List[int]]:
        ans = []
        n = len(nums)

        def dfs(i):
            if i == n:
                ans.append(nums[:])
                return

            used = set()
            for j in range(i, n):
                if nums[j] in used:
                    continue
                used.add(nums[j])

                nums[i], nums[j] = nums[j], nums[i]
                dfs(i + 1)
                nums[i], nums[j] = nums[j], nums[i]

        dfs(0)
        return ans
```
