# 918. 环形子数组的最大和

[题目链接](https://leetcode.cn/problems/maximum-sum-circular-subarray/description)

## 解法一：动态规划

### 思路

- 不跨首尾：等价于求子数组最大和
- 跨首尾：等价于总和 - 子数组最小和
  - 注意：子数组不为空，说明子数组的最小和不等于总和

### 代码

```py
class Solution:
    def maxSubarraySumCircular(self, nums: List[int]) -> int:
        max_s = -inf
        min_s = inf

        s = f_max = f_min = 0
        for num in nums:
            f_max = max(f_max + num, num)
            max_s = max(max_s, f_max)

            f_min = min(f_min + num, num)
            min_s = min(min_s, f_min)

            s += num

        if s == min_s:
            return max_s
        else:
            return max(max_s, s - min_s)
```

### 复杂度

- 时间：O(n)
- 空间：O(1)
