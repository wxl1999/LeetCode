# 233. 数字 1 的个数

[题目链接](https://leetcode.cn/problems/number-of-digit-one/description/)

## 思路

- 数位DP，枚举每个位置填什么数字
- 使用一个参数维护当前位置填的 1 的数量

### 代码

```py
class Solution:
    def countDigitOne(self, n: int) -> int:
        n = str(n)

        @cache
        def dfs(i, cnt, is_limit, is_number):
            if i == len(n):
                return cnt

            ans = 0

            if is_number is False:
                ans += dfs(i + 1, cnt, False, False)

            up = int(n[i]) if is_limit else 9
            for j in range(0 if is_number else 1, up + 1):
                ans += dfs(i + 1, cnt + (j == 1), is_limit and j == up, is_number or j > 0)
            
            return ans
        return dfs(0, 0, True, False)
```

### 复杂度

- 时间：O(10 logn ** 2)
- 空间：O(logn ** 2)