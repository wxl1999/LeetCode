# 909. 蛇梯棋

[题目链接](https://leetcode.cn/problems/snakes-and-ladders/description)

## 解法一：BFS

### 思路

- 每个方格能够到达的下一个方格就是图上节点的连边
- 需要额外检查是否是“蛇” 或 “梯子”
  - 需要将方格映射到 (x, y) 坐标

### 代码

```py
class Solution:
    def num2idx(self, idx, n):
        r, c = (idx - 1) // n, (idx - 1) % n
        if r % 2 == 1:
            c = n - 1 - c
        return n - 1 - r, c

    def snakesAndLadders(self, board: List[List[int]]) -> int:
        n = len(board)
        
        target = n ** 2
        visited = set()

        q = [(1, 0)]
        while q:
            num, step = q.pop(0)
            for i in range(1, 7):
                next_num = num + i
                if next_num > target:
                    break

                next_x, next_y = self.num2idx(next_num, n)
                if board[next_x][next_y] > 0:
                    next_num = board[next_x][next_y]
                if next_num == target:
                    return step + 1
                if next_num not in visited:
                    visited.add(next_num)
                    q.append((next_num, step + 1))

        return -1        
            
```

### 复杂度

- 时间：O(n^2)
- 空间：O(n^2)
