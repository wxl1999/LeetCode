# 902. 最大为 N 的数字组合

[题目链接](https://leetcode.cn/problems/numbers-at-most-n-given-digit-set/description/)

## 思路

- 数位 DP

### 代码

```py
class Solution:
    def atMostNGivenDigitSet(self, digits: List[str], n: int) -> int:
        n = str(n)

        @cache
        def dfs(i, is_limit, is_num):
            if i == len(n):
                return int(is_num)

            ans = 0
            if is_num is False:
                ans = dfs(i + 1, False, False)

            up = n[i] if is_limit else '9'
            for digit in digits:
                if digit > up:
                    break
                ans += dfs(i + 1, is_limit and digit == up, True)

            return ans

        return dfs(0, True, False)
```

### 复杂度

- 时间：O(klogn)
- 空间：O(logn)
